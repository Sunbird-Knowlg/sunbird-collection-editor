<sui-modal [mustScroll]="true" [isClosable]="true" [transitionDuration]="0"
[size]="'normal'" class="sb-modal" appBodyScroll (dismissed)="closePopup()" #modal>
<div class="sb-modal-header">
  {{labelMessages?.lbl?.whereDoYouWantToAddThisContent}}
</div>
<!-- Selection of Layout in modal -->
<div class="sb-modal-content sb-chapterlist-modal scrolling content sb-dock-accordion py-20">
  <sui-accordion class="styled fluid sb-accordion sb-chapterlist-accordion sb-select-content" [closeOthers]="true">
    <div *ngFor="let mainUnit of collectionUnits" class="sb-toc-accor-1"> 
    <sui-accordion-panel [isOpen]="mainUnit?.children && mainUnit?.children.length > 0 ? true : false">
      <div title class="sb-accordion-title d-flex flex-ai-center mt-0">
        <div class="item d-flex flex-ai-center cursor-pointer w-100">
            <label for="{{mainUnit?.identifier}}" class="sb-color-primary font-weight-bold">{{mainUnit?.name}}</label>
          </div>
          <div class="sb-radio-btn-checkbox sb-radio-btn-primary" [ngClass]="{'disabled': mainUnit?.showButton}">
            <input type="radio" disabled="{{mainUnit?.showButton}}" id="{{mainUnit?.identifier}}" value="{{mainUnit?.identifier}}" name="mainUnit"
            [(ngModel)]="prevUnitSelect" (change)="setCollectionUnitBreadcrumb();"
            libTelemetryInteract
            [telemetryInteractEdata]="telemetryService.getTelemetryInteractEdata(mainUnit?.identifier,'select','radio_button', telemetryService?.telemetryPageId, {key:'dialog_id',value:'add_to'})"
            >
            <label for="{{mainUnit?.identifier}}" class="sb-color-primary font-weight-bold"></label>
          </div>
        <div class="chevron-icon">
          <i class="chevron down icon"></i>
        </div>
      </div>
      <div content *ngFor="let childUnit of mainUnit?.children" class="sb-row-bb">
        <div class="chapter-lists level1">
          <div class="chapter-lists--item">
            <div class="item d-flex flex-ai-center cursor-pointer w-100">
              <label for="{{childUnit?.identifier}}" class="w-100 fs-0785 p-1">{{childUnit?.name}}</label>
              <div class="w-30">
                <label for="{{childUnit?.identifier}}"></label>
                <input type="radio" id="{{childUnit?.identifier}}" disabled="{{childUnit?.showButton}}" value="{{childUnit?.identifier}}" name="childUnit"
                [(ngModel)]="prevUnitSelect" class="sb-radio-btn-checkbox sb-radio-btn-primary sb-custom-radio" (change)="setCollectionUnitBreadcrumb();"
                libTelemetryInteract
                [telemetryInteractEdata]="telemetryService.getTelemetryInteractEdata(childUnit?.identifier,'select','radio_button', telemetryService?.telemetryPageId, {key:'dialog_id',value:'add_to'})"
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </sui-accordion-panel>
    </div>
  </sui-accordion>
</div>

<div class="sb-modal-actions flex-dr flex-jc-space-between py-10" *ngIf="selectedContentDetails">
  <div class="ui tiny breadcrumb fxsmall line-height-1-3 w-80 d-flex sb-content-breadcrumb" [style.visibility]="(collectionUnitsBreadcrumb.length > 0? 'visible' : 'hidden')">
      Adding <span class="font-weight-bold px-10  section">{{selectedContentDetails?.name}}</span>
      to
    <span class="section ml-10" *ngFor="let unit of collectionUnitsBreadcrumb;first as first;last as last;">
      <i class="right chevron icon divider b-0" [hidden]="first"></i>
      <span [class.font-weight-bold]="first" > {{ unit }}</span>
    </span>
  </div>
  <div class="w-20 text-right">
    <button id="addResource" class="sb-btn sb-btn-normal text-inherit sb-btn-primary text-right" (click)="addResource()"
    libTelemetryInteract
    [telemetryInteractEdata]="telemetryService.getTelemetryInteractEdata('add_content','click','submit', telemetryService?.telemetryPageId, {key:'dialog_id',value:'add_to'})"
    >
    {{labelMessages?.lbl?.addContent}}
    </button>
  </div>
</div>
</sui-modal>
