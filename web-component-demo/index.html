<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sunbird Collection Editor</title>
  <link rel="stylesheet" href="./styles.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"
    integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg=="
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/reflect-metadata/0.1.13/Reflect.min.js"
    integrity="sha512-jvbPH2TH5BSZumEfOJZn9IV+5bSwwN+qG4dvthYe3KCGC3/9HmxZ4phADbt9Pfcp+XSyyfc2vGZ/RMsSUZ9tbQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</head>

<body>
  <div class="player-grid" id="my-editor">
  </div>
  <script type="text/javascript" src="./sunbird-collection-editor.js"></script>

  <script type="text/javascript">
    window.questionEditorBaseUrl = "https://dev.knowlg.sunbird.org"
    const editorConfig = {"context":{"identifier":"do_213756787490045952160","channel":"01309282781705830427","authToken":"","sid":"vLpZ1rFl6-sxMVHi4RrmrlHw0HsX9ggC","did":"1d8e290dd3c2a6a9eeac58568cdef28d","uid":"5a587cc1-e018-4859-a0a8-e842650b9d64","additionalCategories":["Textbook","Lesson Plan","Curiosity Question Set","Experiential Resource","Explanation Video","Focus Spot","Learning Outcome Definition","Lesson Plan","Marking Scheme Rubric","Pedagogy Flow","Previous Board Exam Papers","TV Lesson","Textbook"],"host":"http://localhost:3000","pdata":{"id":"local.sunbird..knowledge.portal","ver":"1.0.0","pid":"sunbird-knowledge-portal.collection_editor"},"actor":{"id":"5a587cc1-e018-4859-a0a8-e842650b9d64","type":"User"},"contextRollup":{"l1":"01309282781705830427"},"tags":["01309282781705830427","01309282781705830427"],"timeDiff":-0.463,"endpoint":"/data/v3/telemetry","env":"collection_editor","user":{"id":"5a587cc1-e018-4859-a0a8-e842650b9d64","orgIds":["01309282781705830427"],"organisations":{},"fullName":"N11","firstName":"N11","lastName":"","isRootOrgAdmin":true},"channelData":{"identifier":"01309282781705830427","lastStatusChangedOn":"2022-07-20T09:13:10.352+0000","code":"01309282781705830427","frameworks":[{"name":"test_knowlg","relation":"hasSequenceMember","identifier":"test_knowlg","description":"test_knowlg","objectType":"Framework","status":"Live","type":"k-12"},{"name":"knowlg_k-12","relation":"hasSequenceMember","identifier":"knowlg_k-12","description":"knowlg_k-12","objectType":"Framework","status":"Live","type":"K-12"},{"name":"test_jp_k-12","relation":"hasSequenceMember","identifier":"test_jp_k-12","description":"test_jp_k-12","objectType":"Framework","status":"Live","type":"K-12"},{"name":"Ekstep","relation":"hasSequenceMember","identifier":"ekstep_ncert_k-12","description":"Ekstep","objectType":"Framework","status":"Live","type":"K-12"},{"name":"Test Tamil 1","relation":"hasSequenceMember","identifier":"ttt_1","description":"Test Tamil 1","objectType":"Framework","status":"Live","type":"k-12"}],"consumerId":"5d49f9d5-acf8-40c9-a5b0-4634e5d5bc87","description":"Channel for in.ekstep","assetAdditionalCategories":[],"autoCreateBatch":"Enabled","languageCode":[],"createdOn":"2022-07-20T09:13:10.352+0000","objectType":"Channel","versionKey":"1658308390352","collectionPrimaryCategories":["Content Playlist","Course","Digital Textbook","Question paper"],"contentPrimaryCategories":["Course Assessment","eTextbook","Explanation Content","Learning Resource","Practice Question Set","Teacher Resource","Exam Question"],"name":"01309282781705830427","primaryCategories":[{"identifier":"obj-cat:asset_asset_all","name":"Asset","targetObjectType":"Asset"},{"identifier":"obj-cat:certasset_asset_all","name":"CertAsset","targetObjectType":"Asset"},{"identifier":"obj-cat:certificate-template_asset_all","name":"Certificate Template","targetObjectType":"Asset"},{"identifier":"obj-cat:content-playlist_collection_all","name":"Content Playlist","targetObjectType":"Collection"},{"identifier":"obj-cat:content-playlist_content_all","name":"Content Playlist","targetObjectType":"Content"},{"identifier":"obj-cat:course_collection_all","name":"Course","targetObjectType":"Collection"},{"identifier":"obj-cat:course_content_all","name":"Course","targetObjectType":"Content"},{"identifier":"obj-cat:course-assessment_content_all","name":"Course Assessment","targetObjectType":"Content"},{"identifier":"obj-cat:course-unit_content_all","name":"Course Unit","targetObjectType":"Content"},{"identifier":"obj-cat:course-unit_collection_all","name":"Course Unit","targetObjectType":"Collection"},{"identifier":"obj-cat:date_question_all","name":"Date","targetObjectType":"Question"},{"identifier":"obj-cat:digital-textbook_collection_all","name":"Digital Textbook","targetObjectType":"Collection"},{"identifier":"obj-cat:digital-textbook_content_all","name":"Digital Textbook","targetObjectType":"Content"},{"identifier":"obj-cat:etextbook_content_all","name":"eTextbook","targetObjectType":"Content"},{"identifier":"obj-cat:explanation-content_content_all","name":"Explanation Content","targetObjectType":"Content"},{"identifier":"obj-cat:explanation-content_collection_all","name":"Explanation Content","targetObjectType":"Collection"},{"identifier":"obj-cat:ftb-question_question_all","name":"FTB Question","targetObjectType":"Question"},{"identifier":"obj-cat:goals_collection_all","name":"Goals","targetObjectType":"Collection"},{"identifier":"obj-cat:learning-resource_content_all","name":"Learning Resource","targetObjectType":"Content"},{"identifier":"obj-cat:lesson-plan-unit_content_all","name":"Lesson Plan Unit","targetObjectType":"Content"},{"identifier":"obj-cat:lesson-plan-unit_collection_all","name":"Lesson Plan Unit","targetObjectType":"Collection"},{"identifier":"obj-cat:multiple-choice-question_question_all","name":"Multiple Choice Question","targetObjectType":"Question"},{"identifier":"obj-cat:multiselect-multiple-choice-question_question_all","name":"Multiselect Multiple Choice Question","targetObjectType":"Question"},{"identifier":"obj-cat:observation_questionset_all","name":"Observation","targetObjectType":"QuestionSet"},{"identifier":"obj-cat:observation-with-rubrics_questionset_all","name":"Observation With Rubrics","targetObjectType":"QuestionSet"},{"identifier":"obj-cat:playlist_collection_all","name":"Playlist","targetObjectType":"Collection"},{"identifier":"obj-cat:plugin_content_all","name":"Plugin","targetObjectType":"Content"},{"identifier":"obj-cat:practice-question-set_content_all","name":"Practice Question Set","targetObjectType":"Content"},{"identifier":"obj-cat:slider_question_all","name":"Slider","targetObjectType":"Question"},{"identifier":"obj-cat:subjective-question_question_all","name":"Subjective Question","targetObjectType":"Question"},{"identifier":"obj-cat:survey_questionset_all","name":"Survey","targetObjectType":"QuestionSet"},{"identifier":"obj-cat:teacher-resource_content_all","name":"Teacher Resource","targetObjectType":"Content"},{"identifier":"obj-cat:template_content_all","name":"Template","targetObjectType":"Content"},{"identifier":"obj-cat:text_question_all","name":"Text","targetObjectType":"Question"},{"identifier":"obj-cat:textbook-unit_content_all","name":"Textbook Unit","targetObjectType":"Content"},{"identifier":"obj-cat:textbook-unit_collection_all","name":"Textbook Unit","targetObjectType":"Collection"},{"identifier":"obj-cat:video-transcript_asset_all","name":"Video Transcript","targetObjectType":"Asset"}],"additionalCategories":["Asset","CCT","CertAsset","Certificate Template","Classroom Teaching Video","Concept Map","Content Playlist","Course","Course Assessment","Course Unit","Curiosity Question Set","Date","Digital Textbook","eTextbook","Experiential Resource","Explanation Content","Explanation Video","FLM","Focus Spot","FTB Question","Goals","Learning Outcome Definition","Learning Resource","Lesson Plan","Lesson Plan Unit","Marking Scheme Rubric","Multiple Choice Question","Multiselect Multiple Choice Question","Observation","Observation With Rubrics","Pedagogy Flow","Playlist","Plugin","Practice Question Set","Previous Board Exam Papers","Slider","Subjective Question","Survey","Teacher Resource","Template","Test Unit","Text","Textbook","Textbook Unit","TV Lesson","Video Transcript"],"lastUpdatedOn":"2022-07-20T09:13:10.352+0000","defaultCourseFramework":"TPD","collectionAdditionalCategories":["Textbook","Lesson Plan"],"assetPrimaryCategories":["Asset","CertAsset","Certificate Template"],"contentAdditionalCategories":["Textbook","Lesson Plan","Curiosity Question Set","Experiential Resource","Explanation Video","Focus Spot","Learning Outcome Definition","Lesson Plan","Marking Scheme Rubric","Pedagogy Flow","Previous Board Exam Papers","TV Lesson","Textbook"],"status":"Live","defaultFramework":"NCF"},"cloudStorageUrls":"","cloudStorage":{"presigned_headers":{"x-ms-blob-type":"BlockBlob"}},"framework":"knowlg_k-12"},"config":{"rejectCommentsMaxLength":500,"setDefaultCopyRight":true,"showOriginPreviewUrl":false,"showSourcingStatus":false,"showCorrectionComments":false,"publicStorageAccount":"https://sunbirddev.blob.core.windows.net/","assetConfig":{"image":{"size":"1","sizeType":"MB","accepted":"png, jpeg"},"video":{"size":"50","sizeType":"MB","accepted":"mp4, webm"}},"questionPrimaryCategories":["Multiple Choice Question","Subjective Question"],"contentPrimaryCategories":["Course Assessment","eTextbook","Explanation Content","Learning Resource","Practice Question Set"],"readQuestionFields":"body,primaryCategory,mimeType,qType,answer,templateId,responseDeclaration,interactionTypes,interactions,name,solutions,editorState,media,remarks,evidence,hints,instructions,","omitFalseyProperties":["topic","topicsIds","targetTopicIds","keywords"],"questionSet":{"maxQuestionsLimit":"500"},"collection":{"maxContentsLimit":1200},"showAddCollaborator":true,"enableBulkUpload":false,"defaultStates":{"nonInteractiveQuestions":{"MTF":{"question":"<p>Match the following:</p><table style='border-collapse: collapse; width: 100%; height: 36px;' border='1'><tbody><tr style='height: 18px;'><td style='width: 50%; height: 18px; text-align: center;'><strong>Column 1</strong></td><td style='width: 50%; height: 18px; text-align: center;'><strong>Column 2</strong></td></tr><tr style='height: 18px;'><td style='width: 50%; height: 18px; text-align: center;'></td><td style='width: 50%; height: 18px; text-align: center;'></td></tr></tbody></table>","answer":"<p>Match the following:</p><table style='border-collapse: collapse; width: 100%; height: 36px;' border='1'><tbody><tr style='height: 18px;'><td style='width: 50%; height: 18px; text-align: center;'><strong>Column 1</strong></td><td style='width: 50%; height: 18px; text-align: center;'><strong>Column 2</strong></td></tr><tr style='height: 18px;'><td style='width: 50%; height: 18px; text-align: center;'></td><td style='width: 50%; height: 18px; text-align: center;'></td></tr></tbody></table>"},"FTB":{"question":"","answer":"","solutions":""},"VSA":{"question":"","answer":"","solutions":""},"SA":{"question":"","answer":"","solutions":""},"LA":{"question":"","answer":"","solutions":""},"CuriosityQuestion":{"question":"","answer":"","solutions":""},"Comprehension":{"question":"","answer":"","solutions":""}}},"mode":"edit","maxDepth":4,"objectType":"Collection","primaryCategory":"Content Playlist","isRoot":true,"iconClass":"fa fa-book","children":{},"hierarchy":{"level1":{"children":{"Content":["Content Playlist","Course","Course Assessment","Course Unit","Digital Textbook","eTextbook","Explanation Content","Learning Resource","Lesson Plan Unit","Plugin","Practice Question Set","Teacher Resource","Template","Textbook Unit"]},"contentType":"Collection","iconClass":"fa fa-folder-o","mimeType":"application/vnd.ekstep.content-collection","name":"Collection Unit","primaryCategory":"Content Playlist"},"level2":{"children":{"Content":["Content Playlist","Course","Course Assessment","Course Unit","Digital Textbook","eTextbook","Explanation Content","Learning Resource","Lesson Plan Unit","Plugin","Practice Question Set","Teacher Resource","Template","Textbook Unit"]},"contentType":"Collection","iconClass":"fa fa-folder-o","mimeType":"application/vnd.ekstep.content-collection","name":"Collection Unit","primaryCategory":"Content Playlist"},"level3":{"children":{"Content":["Content Playlist","Course","Course Assessment","Course Unit","Digital Textbook","eTextbook","Explanation Content","Learning Resource","Lesson Plan Unit","Plugin","Practice Question Set","Teacher Resource","Template","Textbook Unit"]},"contentType":"Collection","iconClass":"fa fa-folder-o","mimeType":"application/vnd.ekstep.content-collection","name":"Collection Unit","primaryCategory":"Content Playlist"},"level4":{"children":{"Content":["Content Playlist","Course","Course Assessment","Course Unit","Digital Textbook","eTextbook","Explanation Content","Learning Resource","Lesson Plan Unit","Plugin","Practice Question Set","Teacher Resource","Template","Textbook Unit"]},"contentType":"Collection","iconClass":"fa fa-folder-o","mimeType":"application/vnd.ekstep.content-collection","name":"Collection Unit","primaryCategory":"Content Playlist"}}}}
    const collectionEditorElement = document.createElement('sunbird-collection-editor');
    collectionEditorElement.setAttribute('editor-config', JSON.stringify(editorConfig));

    collectionEditorElement.addEventListener('playerEvent', (event) => {
      console.log("On playerEvent", event);
    });

    collectionEditorElement.addEventListener('telemetryEvent', (event) => {
      console.log("On telemetryEvent", event);
    });

    const myPlayer = document.getElementById("my-editor");
    myPlayer.appendChild(collectionEditorElement);

  </script>
</body>

</html>

<!-- 
1. add new application - ng g application pdf-player-wc
2. ng add @angular/elements
3. Update app module in pdf-player-wc and angular.json for the assets and scripts copy
-- Add createCustomElement
-- Remove bootstrap array
-- add components in declaration
4. create web-component folder -- create index.html inside it
5. npm i concat fs-extra -D
6. npm i reflect-metadata --save and import it in main.ts of pdf-player-wc
7. npm i http-server -D // App needs a server to serve the file
8. Add script in package.json
9. Create build-wc.js file in root folder - add script to concat the files and make one script file and copying the
assets folder
10. Run with following commands:
-- npm run build-web-component
-- http-server --cors web-component .

 -->